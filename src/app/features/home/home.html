<!-- home.html (FULL - i18n ready) -->

<!-- HERO -->
<section class="hero hero--image">
  <div class="hero__bg" aria-hidden="true"></div>

  <div class="container hero__overlay">
    <div class="hero__content">
      @if (heroEnter()) {
      <h1 class="hero__title enter-delay-0" animate.enter="enter-animation">
        {{ 'home.hero.title_1' | translate }}
        <span class="hero__title--accent"> {{ 'home.hero.title_2' | translate }}</span>
      </h1>

      <p class="hero__subtitle enter-delay-1" animate.enter="enter-animation">
        {{ 'home.hero.subtitle' | translate }}
      </p>

      <div class="hero__actions enter-delay-2" animate.enter="enter-animation">
        <button class="btn btn--secondary" type="button" (click)="goBook()">
          {{ 'actions.book' | translate }}
        </button>
      </div>
      }
    </div>
  </div>
</section>

<!-- 3 SERVICE BOXES -->
<section class="section section--tight">
  <div class="container">
    <div class="cards3">
      <a class="cards3__card" *ngFor="let c of serviceCards" [routerLink]="c.path">
        <div class="cards3__title">{{ c.titleKey | translate }}</div>
        <div class="cards3__desc">{{ c.descKey | translate }}</div>
        <div class="cards3__arrow">→</div>
      </a>
    </div>
  </div>
</section>

<!-- WHO WE ARE -->
<section class="section">
  <div class="container who">
    <div class="who__media" aria-hidden="true"></div>

    <div class="who__content">
      <div class="eyebrow">{{ 'home.who.eyebrow' | translate }}</div>

      <h2 class="section__title">
        {{ 'home.who.title_1' | translate }}
        <span class="accent">{{ 'home.who.title_2' | translate }}</span>
      </h2>

      <p class="section__desc">
        {{ 'home.who.desc' | translate }}
      </p>

      <div class="who__metrics" #whoMetrics>
        <div class="metric">
          <div class="metric__value">{{ yearsDisplay }}+</div>
          <div class="metric__label">{{ 'home.who.metrics.years' | translate }}</div>
        </div>

        <div class="metric">
          <div class="metric__value">{{ teamDisplay }}+</div>
          <div class="metric__label">{{ 'home.who.metrics.team' | translate }}</div>
        </div>

        <div class="metric">
          <div class="metric__value">{{ clientsDisplay }}+</div>
          <div class="metric__label">{{ 'home.who.metrics.clients' | translate }}</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- OUR WORK PROCEDURE -->
<section class="section section--alt">
  <div class="container">
    <div class="section__head">
      <div class="eyebrow">{{ 'home.procedure.eyebrow' | translate }}</div>
      <h2 class="section__title">{{ 'home.procedure.title' | translate }}</h2>
      <p class="section__desc">{{ 'home.procedure.desc' | translate }}</p>
    </div>

    <div class="procedure">
      <div class="proc" *ngFor="let s of procedureSteps; let i = index">
        <div class="proc__top">
          <div class="proc__num">{{ i + 1 }}</div>
          <div class="proc__icon">✦</div>
        </div>
        <div class="proc__title">{{ s.titleKey | translate }}</div>
        <div class="proc__desc">{{ s.descKey | translate }}</div>
      </div>
    </div>
  </div>
</section>

<!-- FEATURED PROJECTS -->
<section class="section">
  <div class="container">
    <div class="section__head section__head--row">
      <div>
        <div class="eyebrow">{{ 'home.featured.eyebrow' | translate }}</div>
        <h2 class="section__title">{{ 'home.featured.title' | translate }}</h2>
        <p class="section__desc">{{ 'home.featured.desc' | translate }}</p>
      </div>

      <div class="slider-actions">
        <button
          class="icon-btn icon-btn--prev"
          type="button"
          (click)="prevProjects()"
          [attr.aria-label]="'home.featured.prev' | translate"
        ></button>
        <button
          class="icon-btn icon-btn--next"
          type="button"
          (click)="nextProjects()"
          [attr.aria-label]="'home.featured.next' | translate"
        ></button>
      </div>
    </div>

    <div
      class="slider"
      (pointerdown)="projectsPointerDown($event)"
      (pointermove)="projectsPointerMove($event)"
      (pointerup)="projectsPointerUp($event)"
      (pointercancel)="projectsPointerUp($event)"
      (pointerleave)="projectsPointerUp($event)"
    >
      <div
        class="slider__track"
        [class.is-dragging]="projectsDragging"
        [style.transform]="
          'translateX(calc(' + -projectIndex * 100 + '% + ' + projectsDragPx + 'px))'
        "
      >
        <a class="slide" *ngFor="let p of featuredProjects" [routerLink]="'/under-construction'">
          <div class="slide__img" [style.backgroundImage]="'url(' + p.image + ')'"></div>
          <div class="slide__meta">
            <div class="slide__title">{{ p.titleKey | translate }}</div>
            <div class="slide__cat">{{ p.categoryKey | translate }}</div>
          </div>
        </a>
      </div>
    </div>

    <div class="dots">
      <button
        class="dot"
        *ngFor="let _ of featuredProjects; let i = index"
        type="button"
        [class.is-active]="i === projectIndex"
        (click)="projectIndex = i"
        [attr.aria-label]="('home.featured.goTo' | translate) + ' ' + (i + 1)"
      ></button>
    </div>
  </div>
</section>

<!-- WHY CLIENTS CHOOSE US -->
<section class="section section--alt">
  <div class="container">
    <div class="section__head">
      <h2 class="section__title">{{ 'home.why.title' | translate }}</h2>
      <p class="section__desc">{{ 'home.why.desc' | translate }}</p>
    </div>

    <div class="features">
      <div class="feature" *ngFor="let f of features">
        <div class="feature__icon">✦</div>
        <div class="feature__title">{{ f.titleKey | translate }}</div>
        <div class="feature__desc">{{ f.descKey | translate }}</div>
      </div>
    </div>
  </div>
</section>

<!-- CLIENT REVIEWS -->
<section class="section">
  <div class="container">
    <div class="section__head">
      <div class="eyebrow">{{ 'home.reviews.eyebrow' | translate }}</div>
      <h2 class="section__title">{{ 'home.reviews.title' | translate }}</h2>
      <p class="section__desc">{{ 'home.reviews.desc' | translate }}</p>
    </div>

    <div class="reviews-marquee" [attr.aria-label]="'home.reviews.aria' | translate">
      <div class="reviews-marquee__viewport">
        <div class="reviews-marquee__track">
          <!-- Track A -->
          <article class="review-card" *ngFor="let r of reviews">
            <div class="review-card__stars">★★★★★</div>
            <p class="review-card__text">“{{ r.textKey | translate }}”</p>

            <div class="review-card__person">
              <div class="review-card__avatar"></div>
              <div>
                <div class="review-card__name">{{ r.nameKey | translate }}</div>
                <div class="review-card__role">{{ r.roleKey | translate }}</div>
              </div>
            </div>
          </article>

          <!-- Track B -->
          <article class="review-card" *ngFor="let r of reviews" aria-hidden="true">
            <div class="review-card__stars">★★★★★</div>
            <p class="review-card__text">“{{ r.textKey | translate }}”</p>

            <div class="review-card__person">
              <div class="review-card__avatar"></div>
              <div>
                <div class="review-card__name">{{ r.nameKey | translate }}</div>
                <div class="review-card__role">{{ r.roleKey | translate }}</div>
              </div>
            </div>
          </article>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta" #ctaSection>
  @if (ctaEnter()) {
  <div class="container cta__grid" animate.enter="enter-animation">
    <div>
      <h2 class="cta__title">{{ 'home.cta.title' | translate }}</h2>
      <p class="cta__desc">{{ 'home.cta.desc' | translate }}</p>
    </div>

    <div class="cta__actions">
      <button class="btn btn--primary" type="button" (click)="goBook()">
        {{ 'home.cta.button' | translate }}
      </button>
    </div>
  </div>
  } @else {
  <div class="container cta__grid cta__grid--placeholder" aria-hidden="true"></div>
  }
</section>
