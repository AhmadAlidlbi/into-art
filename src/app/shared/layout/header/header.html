<header class="site-header" [class.is-scrolled]="scrolled()">
  <div class="container header__inner">
    <!-- Brand -->
    <a class="brand" routerLink="/" aria-label="Go to homepage">
      <img class="brand__logo" [src]="logoSrc" [alt]="brandName + ' logo'" />
    </a>

    <!-- Desktop nav (hide when drawer open) -->
    <nav class="nav nav--desktop" aria-label="Primary" [class.is-hidden]="mobileOpen()">
      <a
        *ngFor="let link of links"
        class="nav__link"
        [routerLink]="link.path"
        routerLinkActive="is-active"
        [routerLinkActiveOptions]="{ exact: !!link.exact }"
      >
        {{ link.labelKey | translate }}
      </a>
    </nav>

    <!-- Desktop actions (hide when drawer open) -->
    <div class="actions actions--desktop" [class.is-hidden]="mobileOpen()">
      <button class="btn btn--primary" type="button" (click)="goToConsultation()">
        {{ 'actions.book' | translate }}
      </button>

      <button class="lang" type="button" (click)="toggleLang()" aria-label="Toggle language">
        <span class="lang__pill">{{ currentLang() === 'ar' ? 'EN' : 'AR' }}</span>
      </button>
    </div>

    <!-- Mobile toggle -->
    <button
      class="burger"
      type="button"
      (click)="toggleMobile()"
      [attr.aria-expanded]="mobileOpen()"
      aria-controls="mobileMenu"
      aria-label="Toggle menu"
    >
      <span></span><span></span><span></span>
    </button>
  </div>

  <!-- Overlay -->
  <div class="overlay" *ngIf="mobileOpen()" (click)="closeMobile()" aria-hidden="true"></div>

  <!-- Drawer -->
  <aside id="mobileMenu" class="drawer" [class.is-open]="mobileOpen()" aria-label="Mobile menu">
    <div class="drawer__top">
      <button class="drawer__close" type="button" (click)="closeMobile()" aria-label="Close menu">
        âœ•
      </button>
    </div>

    <nav class="nav nav--mobile" aria-label="Primary mobile">
      <a
        *ngFor="let link of links"
        class="nav__link"
        [routerLink]="link.path"
        routerLinkActive="is-active"
        [routerLinkActiveOptions]="{ exact: !!link.exact }"
        (click)="closeMobile()"
      >
        {{ link.labelKey | translate }}
      </a>
    </nav>

    <div class="drawer__bottom">
      <button class="btn btn--primary" type="button" (click)="goToConsultation()">
        {{ 'actions.book' | translate }}
      </button>

      <button class="lang lang--bottom" type="button" (click)="toggleLang()" aria-label="Toggle language">
        <span class="lang__pill">{{ currentLang() === 'ar' ? 'EN' : 'AR' }}</span>
      </button>
    </div>
  </aside>
</header>
